{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "build-wasm",
      "command": "dotnet",
      "type": "shell",
      "args": [
        "build",
        "${workspaceFolder}/BKBToolClient.csproj"
      ],
      "group": "build",
      "presentation": {
        "reveal": "silent"
      },
      "problemMatcher": "$msCompile"
    },
    {
      "label": "build-console",
      "command": "dotnet",
      "type": "shell",
      "args": [
        "build",
        "${workspaceFolder}/ConsoleApp/BKBToolConsole.csproj"
      ],
      "group": "build",
      "presentation": {
        "reveal": "silent"
      },
      "problemMatcher": "$msCompile"
    },
    {
      "label": "build",
      "dependsOn": [
        "build-wasm",
        "build-console"
      ],
      "group": {
        "kind": "build",
        "isDefault": true
      },
      "presentation": {
        "reveal": "silent"
      },
      "problemMatcher": []
    },
    {
      "label": "run-console-app",
      "command": "dotnet",
      "type": "shell",
      "args": [
        "run",
        "--project",
        "${workspaceFolder}/ConsoleApp/BKBToolConsole.csproj"
      ],
      "runOptions": {
        "instanceLimit": 1
      },
      "presentation": {
        "reveal": "always"
      },
      "problemMatcher": "$msCompile"
    },
    {
      "label": "run-dev-server",
      "command": "dotnet",
      "type": "shell",
      "args": [
        "watch",
        "--",
        "dotnet",
        "run",
        "--configuration",
        "Debug"
      ],
      "isBackground": true,
      "runOptions": {
        "instanceLimit": 1
      },
      "problemMatcher": {
        // Minimal pattern (not used for diagnostics, nur f√ºr Background-State)
        "pattern": {
          "regexp": ".*"
        },
        "background": {
          "activeOnStart": true,
          // dotnet watch signalisiert Start z.B. mit "watch : Started"
          "beginsPattern": ".*watch.*Started.*|.*Hot reload enabled.*",
          // Alternative Ready-Marker der WasmAppHost-Ausgabe
          "endsPattern": ".*Now listening on:.*|.*Application started\\.|.*App url:.*|.*Debug at url:.*"
        }
      },
      "presentation": {
        "reveal": "silent"
      }
    }
  ]
}